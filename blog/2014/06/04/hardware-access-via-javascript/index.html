
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hardware Access via JavaScript - Web Technologist Log</title>
  <meta name="author" content="Omar Martinez">

  
  <meta name="description" content="Hardware Access via JavaScript written Jun 4th, 2014 AHardware access via web browsers is becoming integral of web technologies.
Web technology &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://Omar12.github.io/web-technologist-log/blog/2014/06/04/hardware-access-via-javascript">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Web Technologist Log" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  

</head>

  <body>
    <a href="/web-technologist-log/" class="home-icon">
      <img src="/web-technologist-log/images/home.png"/>
    </a>

    <article role="article" class="full-single-article">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <h1>Hardware Access via JavaScript</h1>
        <div class="meta">
          written 








  



<time datetime="2014-06-04T20:59:31-05:00" pubdate data-updated="true">Jun 4<span>th</span>, 2014</time>
          


        </div>
        <p>AHardware access via web browsers is becoming integral of web technologies.
Web technology platforms are used more to develop apps that live outside of the
web. Faster browser release cycles has to helped bring hardware access to web browsers.</p>

<p>Portable devices now come with cameras, microphones, gyroscopes, GPS, light sensors
and of course, the touch screen. Apps developed for the device have access to the device hardware.</p>

<p>But that hasn’t stopped the people creating web technologies to move forward to
have access to the hardware. Now we can access hardware using JavaScript, HTML and CSS(somewhat)!</p>

<p>Below I will go over on some of the API’s that have access to your hardware.</p>

<h3>GeoLocation</h3>

<p><strong>GeoLocation</strong> will read your location and return position coordinates, its
longitude and latitude.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span>
</span><span class='line'><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span><span class="nx">success</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">latitude</span>  <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">longitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">id</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">watchPosition</span><span class="p">(</span><span class="nx">success</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
</span><span class='line'><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">clearWatch</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Detect Device Orientation</h3>

<p>The device orientation returns the values collected by the Gyroscope.</p>

<figure class='code'><figcaption><span> (orientation-1.js)</span> <a href='/code_examples/hardware-access/orientation-1.js'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// baseline example</span>
</span><span class='line'><span class="c1">// listen to events in deviceorientation</span>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;deviceorientation&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">alpha</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="nx">event</span><span class="p">.</span><span class="nx">beta</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="nx">event</span><span class="p">.</span><span class="nx">gamma</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span> (orientation-2.js)</span> <a href='/code_examples/hardware-access/orientation-2.js'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// More useful example</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">DeviceOrientationEvent</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;deviceorientation&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">//alpha: rotation around z-axis</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">rotateDegrees</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">alpha</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">//gamma: left to right</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">leftToRight</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">gamma</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">//beta: front back motion</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">frontToBack</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">beta</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">handleOrientationEvent</span><span class="p">(</span> <span class="nx">frontToBack</span><span class="p">,</span> <span class="nx">leftToRight</span><span class="p">,</span> <span class="nx">rotateDegrees</span> <span class="p">);</span>
</span><span class='line'>    <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">handleOrientationEvent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">frontToBack</span><span class="p">,</span> <span class="nx">leftToRight</span><span class="p">,</span> <span class="nx">rotateDegrees</span> <span class="p">){</span>
</span><span class='line'>    <span class="c1">//do something amazing</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>To explain:</p>

<ul>
<li><strong>alpha</strong> &ndash; rotation of z-axis &ndash; how far the device is rotated around a line perpendicular to the device.</li>
<li><strong>beta</strong> &ndash; rotation of x-axis &ndash; how far the device has tipped forward to backward</li>
<li><strong>gamma</strong> &ndash; rotation of y-axis &ndash; how far the device has tipped left or right</li>
</ul>


<h3>Read More:</h3>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/Reference/Events/deviceorientation"><code>deviceOrientation</code></a> (Mozilla)</p>

<h3>Camera or Microphone Access</h3>

<p><code>getUserMedia</code> prompts the user for access to the media device.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">navigator</span><span class="p">.</span><span class="nx">getUserMedia</span><span class="p">(</span><span class="nx">constraints</span><span class="p">,</span> <span class="nx">successCallback</span><span class="p">,</span> <span class="nx">errorCallback</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span> (getUserMedia.js)</span> <a href='/code_examples/hardware-access/getUserMedia.js'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">navigator</span><span class="p">.</span><span class="nx">getUserMedia</span><span class="p">(</span>
</span><span class='line'>  <span class="c1">// constraints</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="nx">video</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">audio</span><span class="o">:</span> <span class="kc">true</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="c1">//successCallback</span>
</span><span class='line'>  <span class="kd">function</span><span class="p">(</span><span class="nx">localMediaStream</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// select the &#39;video&#39; object on the DOM</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">video</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;video&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">video</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">localMediaStream</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">video</span><span class="p">.</span><span class="nx">onloadedmetadata</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="c1">// let the video magic begin</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="c1">// error!</span>
</span><span class='line'>  <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Oh noes, there was the following error:&quot;</span> <span class="o">+</span> <span class="nx">err</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Read More</h4>

<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator-42"><code>getUserMedia</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/WebRTC/MediaStream_API#LocalMediaStream"><code>LocalMediaStream</code></a></li>
</ul>


<h3>Battery API</h3>

<p>The <strong>Battery API</strong> provides information about the systems battery. This can be
used to measure the battery usage that your app is using. This can be used to
manage your apps resources, what to trigger and what not.</p>

<figure class='code'><figcaption><span> (battery-api.js)</span> <a href='/code_examples/hardware-access/battery-api.js'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">battery</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">battery</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">updateBatteryStatus</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Battery status: &quot;</span> <span class="o">+</span> <span class="nx">battery</span><span class="p">.</span><span class="nx">level</span> <span class="o">*</span><span class="mi">100</span> <span class="o">+</span> <span class="s2">&quot; %&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="nx">battery</span><span class="p">.</span><span class="nx">charging</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Battery is charging.&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">battery</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;chargingchange&quot;</span><span class="p">,</span> <span class="nx">updateBatteryStatus</span><span class="p">);</span>
</span><span class='line'><span class="nx">battery</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;levelchange&quot;</span><span class="p">,</span> <span class="nx">updateBatteryStatus</span><span class="p">);</span>
</span><span class='line'><span class="nx">updateBatteryStatus</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Read More:</h4>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BatteryManager"><code>BatteryManager</code></a></p>

<h3>Vibrate</h3>

<p>The method pulses the vibration hardware on the device. You can send a pattern for
the vibration you want to trigger. The pattern alternates from the duration of the
vibration and the pause.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// heartbeat pattern (short vibration (100), short pause(20), longer pause(500))</span>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">vibrate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>A fun way to implement it, is by synching it to transitions and animations on screen.</p>

<h4>Read More:</h4>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator-31"><code>Navigator.vibrate()</code></a></p>

<h3>Ambient Light</h3>

<p>Ambient light provides information from the phot sensors about the light levels
near the device.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;devicelight&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>A creative approach to the Ambient light, is to have a story adjust the mood depending
on the amount of light in the room.</p>

<h3>Touch Events</h3>

<p>Touch Events are easy to overlook as hardware access since touch is the way we input
on portable devices. Multi touch and gestures are exclusive input events to touch screens.</p>

<p>I&rsquo;m not going expand here about touch devices, but you can read more about it:
* <a href="http://www.w3.org/TR/2013/REC-touch-events-20131010/">W3 </a>
* <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Touch_events">Mozilla: Touch Events</a>
* <a href="http://eightmedia.github.io/hammer.js/">hammer.js</a> &ndash; JavaScript library with various touch events.</p>

<h3>FileReader</h3>

<p>A brief mention is being able to read the files on the device. <a href="https://github.com/coremob/camera">Coremob Camera</a>
is an attempt to build a camera using web technologies.</p>

<h3>More Reading</h3>

<ul>
<li><a href="http://mobilehtml5.org/">Mobile HTML5 Compatability Table</a></li>
<li><a href="http://www.w3.org/TR/2010/REC-mwabp-20101214/">Mobile Web Best Practices</a></li>
</ul>


      </div>
    </div>
  </div>
</article>

<hr class="divider-short"/>

<div class="archive-link">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        
          <a class="pull-left" href="/blog/2014/06/04/web-components/" title="Previous Post: Web Components">&laquo; Previous: Web Components</a>
        

        
      </div>
    </div>
  </div>
</div>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
  <a href="/"><h4>Home</h4></a>
</div>

<div class="col-md-2">
  <div class="social-icon-list">
    
    <a href="https://twitter.com/omar12"><img src="/images/glyphicons_social_31_twitter.png"/></a>
    

    
    <a href="https://github.com/omar12"><img src="/images/glyphicons_social_21_github.png"/></a>
    

    
  </div>
</div>

<div class="pull-right">
  <h4>Powered by <a href="http://octopress.org/">Octopress</a>. Designed by <a href="http://AdrianArtiles.com">Adrian Artiles</a>.</h4>
</div>


    </div>
  </div>
</footer>

  </body>
</html>
